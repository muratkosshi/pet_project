"use strict";(self.webpackChunkauto_ppt_web=self.webpackChunkauto_ppt_web||[]).push([[179],{17625:function(e,t,n){var r=n(19148),a=n(59313),s=n(62034),c=n(94600),i=n(20240),u=n(47050),o=n(24611),l=n(76514),d=n(53755),p=n(23680),h=n(74975),f=n.n(h),x=n(77721),m=n(6341),v=x.Z.create({baseURL:"http://localhost:6565/api",headers:{"Content-Type":"application/json"}});v.interceptors.request.use((function(e){var t=m.Z.get("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));var Z=v;var g=n(91815),k=n.n(g),j=n(484),y=n(19961),w=n(75733),b=n(70737),S=n(85292),T=n(56931),P=n(55948),_=S.default.Option,I=[{code:"en",name:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439"},{code:"ru",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"kz",name:"\u041a\u0430\u0437\u0430\u0445\u0441\u043a\u0438\u0439"}],C=function(e){var t=e.onFirstStep,n=e.themeTitle,a=e.numTopic,s=e.lang,c=e.setThemeTitle,i=e.uuid,u=e.setLang,h=e.loading,f=e.setLoading,m=e.taskId,v=e.setTaskId,Z=e.checkTaskStatus,g=e.cancelTask,C=e.setCurrentStep,E=e.setOutline,F=b.Z.useForm(),L=(0,p.Z)(F,1)[0],A=(0,r.useState)(10),R=(0,p.Z)(A,2),U=R[0],D=R[1],O=(0,r.useState)(null),z=(0,p.Z)(O,2),N=(z[0],z[1]),B=(0,r.useState)(""),V=(0,p.Z)(B,2),q=V[0],W=V[1];(0,r.useEffect)((function(){L.setFieldsValue({title:n||"",language:s||void 0,topic_num:a||3})}),[n,s,a,L]),(0,r.useEffect)((function(){var e=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.get("".concat("http://localhost:6565/api","/settings/max_outlines_per_body"));case 3:200===(n=e.sent).status&&null!==(t=n.data)&&void 0!==t&&t.value?D(parseInt(n.data.value,10)):l.ZP.warning("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e."),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,r.useEffect)((function(){if(m){f(!0),W("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 \u0434\u043b\u044f \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438...");var e=setInterval((0,d.Z)((0,o.Z)().mark((function t(){var n;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(m);case 2:n=t.sent,N(n),"SUCCESS"===n.status?(E(n.result),C(1),clearInterval(e),f(!1),v(null)):"FAILURE"===n.status?(clearInterval(e),l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432."),f(!1),v(null)):"REVOKED"===n.status&&(clearInterval(e),l.ZP.warning("\u26a0\ufe0f \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430."),f(!1),C(0));case 5:case"end":return t.stop()}}),t)}))),3e3);return function(){return clearInterval(e)}}}),[m]);var K=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.validateFields();case 3:n=e.sent,c(n.title),u(n.language),t(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,g(m);case 5:l.ZP.warning("\u26a0\ufe0f \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430."),f(!1),N(null),v(null),C(0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),l.ZP.error("\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043c\u0435\u043d\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438.");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return(0,P.jsx)("div",{className:"step-one",children:(0,P.jsxs)(b.Z,{form:L,layout:"vertical",children:[(0,P.jsxs)(j.default,{spinning:h,tip:q,children:[(0,P.jsx)(b.Z.Item,{name:"uuid",initialValue:i,style:{display:"none"},children:(0,P.jsx)(w.default,{type:"hidden"})}),(0,P.jsx)(b.Z.Item,{label:"\u0422\u0435\u043c\u0430 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438",name:"title",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0442\u0435\u043c\u0435!"}],children:(0,P.jsx)(T.Z,{style:{height:120,resize:"none",borderRadius:4},showCount:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0442\u0435\u043c\u0435, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0424\u043e\u0442\u043e\u0441\u0438\u043d\u0442\u0435\u0437"})}),(0,P.jsx)(b.Z.Item,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044f\u0437\u044b\u043a",name:"language",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044f\u0437\u044b\u043a"}],children:(0,P.jsx)(S.default,{style:{width:"100%"},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044f\u0437\u044b\u043a",children:I.map((function(e){return(0,P.jsx)(_,{value:e.code,children:e.name},e.code)}))})}),(0,P.jsx)(b.Z.Item,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432",name:"topic_num",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043b\u0430\u0439\u0434\u043e\u0432"},{validator:function(e,t){return t<=U?Promise.resolve():Promise.reject(new Error("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c ".concat(U)))}}],children:(0,P.jsx)(S.default,{style:{width:"100%"},children:(0,y.Z)(Array(U).keys()).map((function(e){return(0,P.jsx)(_,{value:e+1,children:e+1},e+1)}))})})]}),(0,P.jsx)(b.Z.Item,{children:h?(0,P.jsx)(k(),{type:"default",danger:!0,onClick:X,children:"\ud83d\uded1 \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e"}):(0,P.jsx)(k(),{type:"primary",onClick:K,children:h?(0,P.jsx)(j.default,{size:"small"}):"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433"})})]})})},E=n(83094),F=n(91421),L=n(19677),A=n(39502),R=n(91007),U=["key","name"],D=function(e){var t=e.onSecondStep,n=e.uuid,a=e.language,s=e.title,c=e.topic_num,i=e.setCurrentStep,u=e.outline,h=e.taskId,f=e.setTaskId,v=e.setPaper,Z=(e.setFilenamePPTX,e.pollTaskStatus,e.cancelTask),g=e.loading,S=e.setLoading,T=b.Z.useForm(),_=(0,p.Z)(T,1)[0],I=(0,r.useState)([]),C=(0,p.Z)(I,2),D=C[0],O=C[1],z=(0,r.useState)(10),N=(0,p.Z)(z,2),B=N[0],V=N[1],q=(0,r.useState)(""),W=(0,p.Z)(q,2),K=W[0],X=W[1],M=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){var t,r,u,d;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),X("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432..."),e.prev=2,t=m.Z.get("authToken"),e.next=6,fetch("".concat("http://localhost:6565/api","/generation/generate_outline"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({uuid:n,language:a,title:s,topic_num:c})});case 6:if((r=e.sent).ok){e.next=13;break}return e.next=10,r.json();case 10:throw u=e.sent,l.ZP.error(u.detail),new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438");case 13:return e.next=15,r.json();case 15:d=e.sent,f(d.task_id),J(d.task_id,!1),e.next=26;break;case 20:e.prev=20,e.t0=e.catch(2),S(!1),X(""),i((function(e){return Math.max(0,e-1)}));case 26:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(t,n){var r,a,s,c,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,a=20;case 2:if(!(r<a)){e.next=47;break}return r++,e.prev=4,e.next=7,fetch("".concat("http://localhost:6565/api","/tasks/task_status/").concat(t));case 7:return s=e.sent,e.next=10,s.json();case 10:if(c=e.sent,X("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430 \u0434\u043b\u044f \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438..."),"SUCCESS"!==c.status){e.next=23;break}return S(!1),X(""),u=Q(c.result),G(u),n&&(f(null),v(c.result),i(2)),e.abrupt("return");case 23:if("FAILURE"!==c.status){e.next=30;break}return l.ZP.error("\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438."),S(!1),X(""),e.abrupt("return");case 30:if("REVOKED"!==c.status){e.next=35;break}return l.ZP.error("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"),S(!1),n||i(0),e.abrupt("return");case 35:return e.next=37,new Promise((function(e){return setTimeout(e,3e3)}));case 37:e.next=45;break;case 39:return e.prev=39,e.t0=e.catch(4),S(!1),X(""),e.abrupt("return");case 45:e.next=2;break;case 47:l.ZP.warning("\u23f3 \u0412\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0438\u0441\u0442\u0435\u043a\u043b\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),S(!1),X("");case 50:case"end":return e.stop()}}),e,null,[[4,39]])})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Z(h);case 6:l.ZP.warning("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430."),f(null),X(""),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043c\u0435\u043d\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438.");case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),G=function(e){D.length+e.length>B&&(l.ZP.warning("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c ".concat(B,". \u041b\u0438\u0448\u043d\u0438\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b.")),e=e.slice(0,B-D.length)),O((function(t){var n=[].concat((0,y.Z)(t),(0,y.Z)(e));return _.setFieldsValue({outlines:n}),n}))},H=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.get("".concat("http://localhost:6565/api","/settings/max_outlines_per_body"));case 3:200===(n=e.sent).status&&null!==(t=n.data)&&void 0!==t&&t.value?V(parseInt(n.data.value,10)):l.ZP.warning("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e."),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){if(H(),u){var e=Q(u);O(e),_.setFieldsValue({outlines:e}),h&&(S(!0),J(h,!0))}else M()}),[u]);var Q=function(e){return e.split("\n").filter((function(e){return e.startsWith("#")})).map((function(e,t){return{id:"".concat(n,"-").concat(t),title:e.replace(/#/g,"").trim()}}))},$=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){var n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,_.validateFields();case 4:n=e.sent,r=n.outlines.map((function(e){return"# ".concat(e.title)})).join("\n"),f(null),t((0,L.Z)((0,L.Z)({},n),{},{outline:r})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),S(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,P.jsx)("div",{className:"step-two",children:(0,P.jsxs)(b.Z,{form:_,layout:"vertical",onFinish:$,style:{width:"100%"},children:[(0,P.jsxs)(j.default,{spinning:g,tip:K,children:[(0,P.jsx)(b.Z.Item,{name:"uuid",initialValue:n,style:{display:"none"},children:(0,P.jsx)(w.default,{type:"hidden"})}),(0,P.jsx)(b.Z.Item,{name:"language",initialValue:a,style:{display:"none"},children:(0,P.jsx)(w.default,{type:"hidden"})}),(0,P.jsx)("h4",{children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438:"}),(0,P.jsx)(b.Z.List,{name:"outlines",children:function(e,t){var n=t.add,r=t.remove;return(0,P.jsxs)(P.Fragment,{children:[e.map((function(e,t){var n=e.key,a=e.name,s=(0,F.Z)(e,U);return(0,P.jsxs)(E.default,{style:{display:"flex",marginBottom:8},align:"baseline",children:[(0,P.jsx)(b.Z.Item,(0,L.Z)((0,L.Z)({},s),{},{name:[a,"title"],rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0440\u0430\u0437\u0434\u0435\u043b\u0430"}],children:(0,P.jsx)(w.default,{style:{background:"#1677ff",color:"white"},prefix:"".concat(t+1),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u043b\u0430\u0439\u0434\u0430 #".concat(t+1)})})),(0,P.jsx)(A.Z,{style:{color:"red"},onClick:function(){return r(a)}})]},n)})),(0,P.jsx)(k(),{type:"dashed",onClick:function(){return n({title:""})},icon:(0,P.jsx)(R.Z,{}),disabled:e.length>=B,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"})]})}})]}),(0,P.jsx)(b.Z.Item,{children:g?(0,P.jsx)(k(),{type:"default",danger:!0,onClick:Y,children:"\ud83d\uded1 \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e"}):(0,P.jsx)(k(),{type:"primary",htmlType:"submit",children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433"})})]})})},O=n(27834),z=function(e){var t=e.onSelect,n=e.selectedTheme,a=(0,r.useState)([]),s=(0,p.Z)(a,2),c=s[0],i=s[1],u=(0,r.useState)(!1),l=(0,p.Z)(u,2),h=l[0],f=l[1];(0,r.useEffect)((function(){var e=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,Z.get("".concat("http://localhost:6565/api","/present/themes/"));case 4:t=e.sent,i(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:f(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);return(0,P.jsx)(S.default,{showSearch:!0,value:n,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u043c\u0443",onChange:function(e){t(e)},loading:h,style:{width:"100%"},children:h?(0,P.jsx)(j.default,{}):c.map((function(e){return(0,P.jsxs)(S.default.Option,{value:e.theme,children:[(0,P.jsx)("img",{src:"".concat("http://localhost:6565").concat(e.image_path),alt:e.theme,style:{width:"40px",marginRight:"8px"}}),e.theme]},e.theme)}))})},N=n(55182),B=function(e){var t=e.onThirdStep,n=e.paper,a=e.setPaper,s=(e.setThemeTitle,e.setCurrentStep),c=e.setSelectTheme,i=e.taskId,u=e.setLoading,h=e.loading,f=e.setTaskId,x=e.setFilenamePPTX,v=e.pollTaskStatus,Z=e.cancelTask,g=b.Z.useForm(),y=(0,p.Z)(g,1)[0],S=(0,r.useState)(""),T=(0,p.Z)(S,2),_=T[0],I=T[1],C=(0,r.useState)(null),E=(0,p.Z)(C,2),F=E[0],L=E[1],A=(0,r.useState)(""),R=(0,p.Z)(A,2),U=R[0],D=R[1];(0,r.useEffect)((function(){var e=!0;D("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430... \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435.");var t=function(){var r=(0,d.Z)((0,o.Z)().mark((function r(){var a,c;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!i){r.next=18;break}return u(!0),l.ZP.warning("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430... \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435."),r.prev=3,a=m.Z.get("authToken"),r.next=7,v(i,a);case 7:if(c=r.sent,e){r.next=10;break}return r.abrupt("return");case 10:"SUCCESS"===(null===c||void 0===c?void 0:c.status)?(x(c.result),D(""),u(!1),s(3),f(null)):"FAILURE"===(null===c||void 0===c?void 0:c.status)?(l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0444\u0430\u0439\u043b\u0430."),u(!1),D(""),f(null)):"REVOKED"===c.status?(l.ZP.error("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"),u(!1),s(2)):setTimeout(t,3e3),r.next=18;break;case 13:r.prev=13,r.t0=r.catch(3),u(!1),D("");case 18:I(n?(0,N.TU)(n):"");case 19:case"end":return r.stop()}}),r,null,[[3,13]])})));return function(){return r.apply(this,arguments)}}();return t(),function(){e=!1}}),[i,n]);var B=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Z(i);case 5:l.ZP.warning("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430."),u(!1),f(null),D(""),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043c\u0435\u043d\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438.");case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.validateFields();case 3:t(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,P.jsx)("div",{className:"step-three",children:(0,P.jsxs)(b.Z,{form:y,layout:"vertical",children:[(0,P.jsxs)(j.default,{size:"large",spinning:h,tip:U,children:[(0,P.jsx)(b.Z.Item,{name:"theme",label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u043c\u0443",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u043c\u0443!"}],children:(0,P.jsx)(z,{onSelect:function(e){L(e),c(e),y.setFieldsValue({theme:e})},selectedTheme:F})}),(0,P.jsx)("div",{dangerouslySetInnerHTML:{__html:_}}),(0,P.jsx)(b.Z.Item,{label:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435",children:(0,P.jsx)(w.default.TextArea,{value:n||"",onChange:function(e){return a(e.target.value)},autoSize:{minRows:8,maxRows:15}})})]}),(0,P.jsxs)(b.Z.Item,{children:[(0,P.jsx)(k(),{icon:(0,P.jsx)(O.Z,{}),onClick:function(){navigator.clipboard.writeText(n).then((function(){return l.ZP.success("\u0422\u0435\u043a\u0441\u0442 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d!")})).catch((function(){return l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f")}))},children:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),h?(0,P.jsx)(k(),{type:"default",danger:!0,onClick:B,style:{marginLeft:8},children:"\ud83d\uded1 \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e"}):(0,P.jsx)(k(),{type:"primary",onClick:V,style:{marginLeft:8},children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433"})]})]})})},V=n(74814),q=n(166),W=function(e,t){e},K=function(e){},X=function(e){var t=e.filename_pptx,n=e.themeTitle;return(0,P.jsx)("div",{style:{width:"100%",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:t?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(k(),{type:"primary",icon:(0,P.jsx)(V.Z,{}),size:"large",style:{marginBottom:20},onClick:function(){return window.open(t,"_blank")},children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044e"}),(0,P.jsx)(q.R,{id:"pptxEditor",documentServerUrl:"https://editor.citorleu.kz",config:{document:{fileType:"pptx",title:"".concat(n,".pptx"),url:"".concat(t)}},events_onDocumentReady:K,onLoadComponentError:W})]}):(0,P.jsx)("p",{children:"\u23f3 \u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438..."})})},M=n(41671),J=n(77110),Y=(0,J.oM)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1},reducers:{loginSuccess:function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0},logout:function(e){e.user=null,e.token=null,e.isAuthenticated=!1},setUser:function(e,t){e.user=t.payload}}}),G=Y.actions,H=G.loginSuccess,Q=G.logout,$=(G.setUser,Y.reducer),ee=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(t,n,r){var a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://localhost:6565/api","/auth/authenticate_user"),{method:"GET",credentials:"include",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});case 3:if((a=e.sent).ok){e.next=10;break}if(403!==a.status){e.next=7;break}throw new Error("\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d. \u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0432\u0445\u043e\u0434.");case 7:if(401!==a.status){e.next=9;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438. \u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d.");case 9:throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438");case 10:return e.next=12,a.json();case 12:s=e.sent,n(H({user:s})),l.ZP.success("\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c, ".concat(s.last_name," ").concat(s.first_name)),e.next=25;break;case 17:e.prev=17,e.t0=e.catch(0),l.ZP.error(e.t0.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438. \u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0441\u043d\u043e\u0432\u0430."),n(Q()),document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",localStorage.removeItem("userData"),r("/login");case 25:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n,r){return e.apply(this,arguments)}}(),te=function(e){var t=e.children,n=(0,M.I0)(),a=(0,c.s0)(),s=(0,c.TH)(),i=(0,M.v9)((function(e){return e.auth})).isAuthenticated;return(0,r.useEffect)((function(){var e=new URLSearchParams(s.search).get("jwt"),t=e||m.Z.get("authToken");e&&m.Z.set("authToken",e,{expires:7,secure:!0,sameSite:"Strict"}),"/login"!==s.pathname&&(t?i||ee(t,n,a):a("/login"))}),[i,n,a,s]),i||"/login"===s.pathname?(0,P.jsx)(P.Fragment,{children:t}):(0,P.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,P.jsx)(j.default,{size:"large",tip:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f..."})})},ne=n(73216),re=n(88325),ae=n(36302),se=n(34105),ce=n(62217),ie=n(64893),ue=n(14219),oe=n.n(ue),le=se.Z.Header,de=function(){var e=(0,M.v9)((function(e){return e.auth})).user,t=(0,M.I0)(),n=(0,c.s0)(),r=e?e.generation_limit-e.generation_count:0,a=null!==e&&void 0!==e&&e.reset_generation_at?oe()(e.reset_generation_at).format("DD.MM.YYYY"):null,s=(0,P.jsxs)(ae.default,{children:[(0,P.jsx)(ae.default.Divider,{}),(0,P.jsx)(ae.default.Item,{onClick:function(){return n("/profile")},children:(0,P.jsxs)(E.default,{children:[(0,P.jsx)(ce.Z,{}),(0,P.jsx)(re.Z.Text,{children:e?"".concat(e.last_name," ").concat(e.first_name):"\u0413\u043e\u0441\u0442\u044c"})]})},"1"),(0,P.jsx)(ae.default.Divider,{}),(0,P.jsxs)(ae.default.Item,{onClick:function(){document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",localStorage.removeItem("userData"),t(Q()),n("/login")},children:[(0,P.jsx)(ie.Z,{}),"\u0412\u044b\u0439\u0442\u0438"]},"2")]});return(0,P.jsxs)(le,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#001529",padding:"0 20px",color:"#fff"},children:[(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:function(){return n("/")},children:[(0,P.jsx)("img",{src:"/white-logo.svg",alt:"Logo",style:{height:"29px",verticalAlign:"middle"}}),(0,P.jsx)("span",{style:{color:"#fff",fontSize:"30px",fontWeight:"bold",verticalAlign:"middle"},children:"i-Pitchmaker"})]}),e?(0,P.jsx)(ne.default,{overlay:s,placement:"bottomRight",arrow:!0,children:(0,P.jsxs)(k(),{type:"text",style:{color:"#fff",display:"flex",flexDirection:"column"},children:[(0,P.jsxs)("span",{children:[e.last_name," ",e.first_name]}),r>0?(0,P.jsxs)("span",{style:{fontSize:"12px",color:"#52c41a"},children:["\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0439: ",r]}):(0,P.jsxs)("span",{style:{fontSize:"12px",color:"#ff4d4f"},children:["\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043e\u0431\u043d\u043e\u0432\u044f\u0442\u0441\u044f: ",a]})]})}):(0,P.jsx)(k(),{type:"text",style:{color:"#fff"},onClick:function(){return n("/login")},children:"\u0412\u043e\u0439\u0442\u0438"})]})},pe=function(e){e.user;var t,n=function(){var e=(0,r.useState)(!1),t=(0,p.Z)(e,2),n=t[0],a=t[1],s=(0,r.useState)(0),c=(0,p.Z)(s,2),i=c[0],u=c[1],h=(0,r.useState)(0),x=(0,p.Z)(h,2),v=x[0],g=x[1],k=(0,r.useState)(""),j=(0,p.Z)(k,2),y=j[0],w=(j[1],(0,r.useState)("")),b=(0,p.Z)(w,2),S=b[0],T=b[1],P=(0,r.useState)(""),_=(0,p.Z)(P,2),I=_[0],C=_[1],E=(0,r.useState)(""),F=(0,p.Z)(E,2),L=F[0],A=F[1],R=(0,r.useState)(""),U=(0,p.Z)(R,2),D=U[0],O=U[1],z=(0,r.useState)(""),N=(0,p.Z)(z,2),B=N[0],V=N[1],q=(0,r.useState)(""),W=(0,p.Z)(q,2),K=W[0],X=W[1],M=(0,r.useState)([]),J=(0,p.Z)(M,2),Y=(J[0],J[1],(0,r.useState)([])),G=(0,p.Z)(Y,2),H=G[0],Q=G[1],$=(0,r.useState)(!1),ee=(0,p.Z)($,2),te=(ee[0],ee[1],(0,r.useState)("")),ne=(0,p.Z)(te,2),re=ne[0],ae=ne[1],se=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(t.title),g(t.topic_num),V(t.language),u(1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(t){var n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://localhost:6565/api","/tasks/task_status/").concat(t),e.next=4,Z.get(n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{status:"FAILURE"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(t){var n,r,s,c,i,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,n="".concat("http://localhost:6565/api","/generation/generate_body"),e.next=5,Z.post(n,t);case 5:(r=e.sent).data.task_id?(s=r.data.task_id,ae(s),l.ZP.info("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u0430, \u043e\u0436\u0438\u0434\u0430\u0435\u043c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f..."),c=setInterval((0,d.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(s);case 2:"SUCCESS"===(t=e.sent).status?(clearInterval(c),A(t.result),ae(null),a(!1),u((function(e){return e+1}))):"FAILURE"===t.status?(clearInterval(c),l.ZP.error("\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0442\u0435\u043b\u0430 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438."),a(!1)):"REVOKED"===t.status&&(clearInterval(c),l.ZP.warning("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"),a(!1));case 4:case"end":return e.stop()}}),e)}))),3e3)):(l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438."),a(!1)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),null!==(i=e.t0.response)&&void 0!==i&&null!==(p=i.data)&&void 0!==p&&p.detail?l.ZP.error(e.t0.response.data.detail):l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438."),a(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(t){var n,r,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,n=m.Z.get("authToken"),e.next=5,Z.post("/generation/generate_ppt",{theme_title:D,paper:L,theme:H,uuid:I},{headers:{Authorization:"Bearer ".concat(n)}});case 5:if(!(r=e.sent).data||!r.data.task_id){e.next=16;break}return s=r.data.task_id,ae(s),e.next=12,oe(s,n);case 12:e.sent&&u(3),e.next=17;break;case 16:throw new Error("Task ID not received.");case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),l.ZP.error("Error during PPT generation.");case 23:return e.prev=23,a(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[1,19,23,26]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(t,n){var r,a,s,c,i,u,d,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,a=0,s=30,c=2e3;case 4:if(r||!(a<s)){e.next=36;break}return a++,e.prev=6,e.next=9,Z.get("/tasks/task_status/".concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 9:if(i=e.sent,u=i.data,d=u.status,p=u.result,"SUCCESS"!==d||!p.file_url){e.next=20;break}return X(p.file_url),e.next=17,le(p.file_url,n);case 17:return e.abrupt("return",!0);case 20:if("FAILURE"!==d){e.next=24;break}return e.abrupt("return",!1);case 24:if("REVOKED"!==d){e.next=26;break}return e.abrupt("return",!1);case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(6);case 31:if(r){e.next=34;break}return e.next=34,new Promise((function(e){return setTimeout(e,c)}));case 34:e.next=4;break;case 36:return l.ZP.error("\u23f3 \u0422\u0430\u0439\u043c\u0430\u0443\u0442: \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f PPTX \u0437\u0430\u043d\u044f\u043b\u0430 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438."),e.abrupt("return",!1);case 38:case"end":return e.stop()}}),e,null,[[6,28]])})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(t,n){var r,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.get(t,{responseType:"blob",headers:{Authorization:"Bearer ".concat(n)}});case 3:if(200!==(r=e.sent).status){e.next=15;break}a=URL.createObjectURL(r.data),(s=document.createElement("a")).href=a,s.download="".concat(D,".pptx"),document.body.appendChild(s),s.click(),document.body.removeChild(s),l.ZP.success("PPTX \u0441\u043a\u0430\u0447\u0430\u043d!"),e.next=16;break;case 15:throw new Error("Failed to download the file.");case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Z.post("/tasks/cancel_task/".concat(t));case 5:l.ZP.warning("\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438 ".concat(t," \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430.")),ae(null),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043c\u0435\u043d\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438.");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return{loading:n,currentStep:i,caption:y,outline:S,paper:L,themeTitle:D,setThemeTitle:O,handleFirstStep:se,handleThirdStep:ue,handleSecondStep:ie,handleCopyToClipboard:function(){f()(L,{format:"text/plain"})?l.ZP.success("Content copied to clipboard"):l.ZP.error("Failed to copy content")},setPaper:A,setCurrentStep:u,setLang:V,lang:B,filename_pptx:K,setSelectTheme:Q,numTopic:v,setLoading:a,setOutline:T,setUuid:C,setFilenamePPTX:X,setTaskId:ae,taskId:re,checkTaskStatus:ce,pollTaskStatus:oe,cancelTask:de,setNumTopic:g}}(),a=n.loading,s=n.currentStep,h=n.themeTitle,x=n.setThemeTitle,v=(n.selectedTitle,n.setSelectedTitle,n.outline),g=n.setOutline,k=n.paper,j=n.setPaper,y=n.setLang,w=n.lang,b=n.filename_pptx,S=n.additionalRequirements,T=n.setAdditionalRequirements,_=n.setSelectTheme,I=n.handleFirstStep,E=n.handleThirdStep,F=n.handleSecondStep,L=n.numTopic,A=n.setCurrentStep,R=n.setLoading,U=n.setUuid,O=n.setFilenamePPTX,z=n.setTaskId,N=n.taskId,V=n.cancelTask,q=n.checkTaskStatus,W=n.pollTaskStatus,K=(0,c.UO)().uuid,M=(0,c.s0)(),J=(0,r.useState)(null),Y=(0,p.Z)(J,2),G=Y[0],H=Y[1],Q=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,Z.get("/present/presentations/".concat(K));case 4:t=e.sent,n=t.data,H(n),A(n.stage_number),y(n.language),z(n.task_id),2==n.stage_number&&j(n.stage_text),1==n.stage_number&&g(n.stage_text),3==n.stage_number&&O(n.file_url),x(n.theme),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438"),M("/");case 20:return e.prev=20,R(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,16,20,23]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){K&&(Q(),U(K))}),[K]);return(0,P.jsx)("div",{className:"main-page",children:(0,P.jsx)("div",{className:"auto-paper-container",children:(0,P.jsxs)("div",{className:"auto-ppt-box",children:[(0,P.jsx)("h2",{children:(null===G||void 0===G?void 0:G.theme)||"\u041f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044f"}),(0,P.jsx)(u.Z,{current:s,items:[{title:"\u0422\u0435\u043c\u0430",description:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u0442\u0435\u043c\u0443 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438"},{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0445\u0435\u043c\u0443",description:"\u0411\u044b\u0441\u0442\u0440\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438"},{title:"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430",description:"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b"},{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438",description:"\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044f"}]}),0===s&&(0,P.jsx)(C,(t={loading:a,setLoading:R,onFirstStep:I,numTopic:L,cancelTask:V,themeTitle:h,setThemeTitle:x,uuid:K,lang:w},(0,i.Z)(t,"themeTitle",h),(0,i.Z)(t,"setLang",y),(0,i.Z)(t,"taskId",N),(0,i.Z)(t,"checkTaskStatus",q),(0,i.Z)(t,"setCurrentStep",A),(0,i.Z)(t,"setOutline",g),t)),1===s&&(0,P.jsx)(D,{onFirstStep:I,loading:a,setLoading:R,cancelTask:V,setTaskId:z,topic_num:L,title:h,onSecondStep:F,outline:v,taskId:N,setOutline:g,additionalRequirements:S,setAdditionalRequirements:T,uuid:K,language:w,setCurrentStep:A,setPaper:j}),2===s&&(0,P.jsx)(B,{setTaskId:z,loading:a,setLoading:R,onThirdStep:E,cancelTask:V,setFilenamePPTX:O,setCurrentStep:A,pollTaskStatus:W,paper:k,setPaper:j,setSelectTheme:_,taskId:N}),3===s&&(0,P.jsx)(X,{filename_pptx:b,themeTitle:h})]})})})},he=n(6991),fe=re.Z.Title,xe=function(){var e=r.useState(""),t=(0,p.Z)(e,2),n=t[0],a=t[1],s=r.useState(!1),i=(0,p.Z)(s,2),u=i[0],l=i[1],h=(0,c.s0)(),f=(0,M.I0)();(0,r.useEffect)((function(){m.Z.get("authToken")&&h("/")}),[h]);var v=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(t){var n,r,s,c,i,u,d,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,r=t.password,a(""),l(!0),e.prev=3,e.next=6,x.Z.post("".concat("http://localhost:6565/api","/auth/login"),{login:n,password:r},{withCredentials:!0});case 6:return s=e.sent,c=s.data.token,m.Z.set("authToken",c,{expires:7,secure:!0,sameSite:"Strict"}),e.next=11,ee(c,f,h);case 11:h("/"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),p=null===(i=e.t0.response)||void 0===i?void 0:i.status,null===(u=e.t0.response)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.detail,a(403===p?"\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d. \u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0432\u0445\u043e\u0434.":401===p?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c.":"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.");case 19:return e.prev=19,l(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,14,19,22]])})));return function(t){return e.apply(this,arguments)}}();return(0,P.jsxs)("div",{style:{maxWidth:"400px",margin:"auto",padding:"20px"},children:[(0,P.jsx)(fe,{level:3,style:{textAlign:"center",marginBottom:"20px"},children:"Ai-Pitchmaker"}),(0,P.jsxs)(b.Z,{layout:"vertical",onFinish:v,style:{background:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[(0,P.jsx)(b.Z.Item,{label:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",name:"login",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f!"}],children:(0,P.jsx)(w.default,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})}),(0,P.jsx)(b.Z.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:(0,P.jsx)(w.default.Password,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})}),n&&(0,P.jsx)(he.Z,{message:n,type:"error",showIcon:!0}),(0,P.jsx)(b.Z.Item,{children:(0,P.jsx)(k(),{type:"primary",htmlType:"submit",block:!0,loading:u,children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})},me=n(7698),ve=function(){var e=(0,c.s0)();return(0,P.jsx)(me.ZP,{status:"404",title:"404",subTitle:"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b \u043f\u043e\u0441\u0435\u0442\u0438\u043b\u0438, \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.",extra:(0,P.jsx)(k(),{type:"primary",onClick:function(){e("/")},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})},Ze=(0,J.xC)({reducer:{auth:$}}),ge=n(85392),ke=se.Z.Content,je=re.Z.Title,ye=re.Z.Text,we=function(){var e=(0,M.v9)((function(e){return e.auth})).user,t=(0,r.useState)([]),n=(0,p.Z)(t,2),a=n[0],s=n[1];if((0,r.useEffect)((function(){var t=function(){var t=(0,d.Z)((0,o.Z)().mark((function t(){var n;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.Z.get("".concat("http://localhost:6565/api","/users/").concat(e.user_id,"/presentations"),{headers:{Authorization:"Bearer ".concat(m.Z.get("authToken"))}});case 3:n=t.sent,s(n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();e&&t()}),[e]),!e)return(0,P.jsx)(ye,{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c."});var c=[{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438",dataIndex:"theme",key:"theme",render:function(e,t){return(0,P.jsx)(re.Z.Link,{href:t.file_path,target:"_blank",children:e})}},{title:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",dataIndex:"created_at",key:"created_at",render:function(e){return new Date(e).toLocaleDateString("ru-RU")}}];return(0,P.jsx)(se.Z,{children:(0,P.jsxs)(ke,{style:{padding:"20px"},children:[(0,P.jsxs)(je,{level:3,children:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",e.first_name," ",e.last_name]}),(0,P.jsx)(ge.Z,{columns:c,dataSource:a,rowKey:function(e){return e.id},bordered:!0,pagination:!1})]})})},be=n(32563),Se=n(83764),Te=n(49432),Pe=n(89394),_e=n(97665),Ie=n(53751),Ce=n(5775),Ee={ru:"\ud83c\uddf7\ud83c\uddfa \u0420\u0443\u0441\u0441\u043a\u0438\u0439",en:"\ud83c\uddec\ud83c\udde7 English",kz:"\ud83c\uddf0\ud83c\uddff \u049a\u0430\u0437\u0430\u049b\u0448\u0430"},Fe=function(){var e=(0,r.useState)([]),t=(0,p.Z)(e,2),n=t[0],a=t[1],i=(0,r.useState)(!1),u=(0,p.Z)(i,2),h=u[0],f=u[1],x=(0,r.useState)(null),m=(0,p.Z)(x,2),v=m[0],g=m[1],y=(0,c.s0)(),w=(0,r.useRef)({}),b=function e(t){if(!w.current[t]){var n=new WebSocket("".concat("http://localhost:6565","/ws/status/").concat(t));n.onmessage=function(e){var t=JSON.parse(e.data);a((function(e){return e.map((function(e){return e.uuid===t.uuid?(0,L.Z)((0,L.Z)({},e),{},{status:t.status,stage_number:t.stage_number,theme:t.theme}):e}))}))},n.onclose=function(){delete w.current[t],setTimeout((function(){return e(t)}),5e3)},n.onerror=function(e){},w.current[t]=n}},S=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),g(null),e.prev=2,e.next=5,Z.get("".concat("http://localhost:6565/api","/present/presentations"));case 5:t=e.sent,n=Array.isArray(t.data)?t.data:t.data.data||[],a(n),Object.values(w.current).forEach((function(e){return e.close()})),w.current={},n.forEach((function(e){return b(e.uuid)})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),g("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0439");case 18:return e.prev=18,f(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){var t,n,r,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.post("/present/create");case 3:t=e.sent,n=t.data.uuid,l.ZP.success("\u041f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430"),y("/present/".concat(n)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),s=(null===(r=e.t0.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438",l.ZP.error(s);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.delete("/present/presentations/".concat(t));case 3:l.ZP.success("\u041f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0430"),a((function(e){return e.filter((function(e){return e.uuid!==t}))})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),l.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){return S(),function(){Object.values(w.current).forEach((function(e){return e.close()}))}}),[]);var I=function(e){switch(e){case 0:return(0,P.jsx)(_e.Z,{color:"blue",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u043c\u044b"});case 1:return(0,P.jsx)(_e.Z,{color:"purple",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b"});case 2:return(0,P.jsx)(_e.Z,{color:"orange",children:"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430"});case 3:return(0,P.jsx)(_e.Z,{color:"green",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"});default:return(0,P.jsx)(_e.Z,{color:"red",children:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u044d\u0442\u0430\u043f"})}},C=function(e){switch(e){case"IN_PROGRESS":return(0,P.jsx)(_e.Z,{icon:(0,P.jsx)(Ie.Z,{}),color:"processing",children:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435..."});case"PENDING":return(0,P.jsx)(_e.Z,{color:"warning",children:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435..."});case"SUCCESS":return(0,P.jsx)(_e.Z,{color:"green",children:"\u0413\u043e\u0442\u043e\u0432\u043e"});case"FAILURE":return(0,P.jsx)(_e.Z,{color:"red",children:"\u041e\u0448\u0438\u0431\u043a\u0430"});case"CANCELLED":return(0,P.jsx)(_e.Z,{color:"warning",children:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e"});default:return(0,P.jsx)(_e.Z,{color:"default",children:"\u041d\u0435 \u043d\u0430\u0447\u0430\u0442\u043e"})}};return(0,P.jsxs)("div",{style:{padding:"20px"},children:[(0,P.jsx)("h1",{children:"\ud83d\udcc2 \u041c\u043e\u0438 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438"}),(0,P.jsx)(k(),{type:"primary",onClick:T,style:{marginBottom:"20px"},children:"\u2795 \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044e"}),v&&(0,P.jsx)("p",{style:{color:"red"},children:v}),h?(0,P.jsx)(j.default,{tip:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):0===n.length?(0,P.jsx)("p",{children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0439."}):(0,P.jsx)(be.Z,{gutter:[16,16],children:n.map((function(e){return(0,P.jsx)(Se.Z,{xs:24,sm:12,md:8,lg:6,children:(0,P.jsxs)(Te.Z,{title:"\ud83d\udccb ".concat(e.theme),extra:(0,P.jsx)(s.rU,{to:"/present/".concat(e.uuid),children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}),bordered:!0,actions:[(0,P.jsx)(Pe.Z,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044e?",onConfirm:function(){return _(e.uuid)},okText:"\u0414\u0430",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,P.jsx)(Ce.Z,{style:{color:"red"}})})],children:[(0,P.jsxs)("p",{children:[(0,P.jsx)("strong",{children:"\ud83d\udd04 \u042d\u0442\u0430\u043f:"})," ",I(e.stage_number)]}),(0,P.jsxs)("p",{children:[(0,P.jsx)("strong",{children:"\ud83c\udf0d \u042f\u0437\u044b\u043a:"})," ",Ee[e.language]||e.language]}),(0,P.jsxs)("p",{children:[(0,P.jsx)("strong",{children:"\ud83d\udcc5 \u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f:"})," ",new Date(e.created_at).toLocaleDateString("ru-RU")]}),(0,P.jsxs)("p",{children:[(0,P.jsx)("strong",{children:"\ud83d\udccc \u0421\u0442\u0430\u0442\u0443\u0441:"})," ",C(e.status)]})]})},e.uuid)}))})]})};function Le(){var e=(0,M.v9)((function(e){return e.auth})).user;return(0,P.jsx)(de,{user:e})}var Ae=function(){return(0,P.jsx)("div",{className:"App",children:(0,P.jsx)(M.zt,{store:Ze,children:(0,P.jsx)(s.VK,{children:(0,P.jsxs)(te,{children:[(0,P.jsx)(Le,{}),(0,P.jsxs)(c.Z5,{children:[(0,P.jsx)(c.AW,{path:"/login",element:(0,P.jsx)(xe,{})}),(0,P.jsx)(c.AW,{path:"*",element:(0,P.jsx)(ve,{})}),(0,P.jsx)(c.AW,{path:"/profile",element:(0,P.jsx)(we,{})}),(0,P.jsx)(c.AW,{path:"/",element:(0,P.jsx)(Fe,{})}),(0,P.jsx)(c.AW,{path:"/present/:uuid",element:(0,P.jsx)(pe,{})})]})]})})})})},Re=function(e){e&&e instanceof Function&&n.e(216).then(n.bind(n,33253)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};a.createRoot(document.getElementById("root")).render((0,P.jsx)(Ae,{})),Re()}},function(e){e.O(0,[348,24,230,216],(function(){return t=17625,e(e.s=t);var t}));e.O()}]);